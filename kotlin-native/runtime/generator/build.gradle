configurations {
    generatorRuntime
}

repositories {
    maven {
        url project.bootstrapKotlinRepo
    }
}

dependencies {
    generatorRuntime "org.jetbrains.kotlin:kotlin-stdlib:${project.bootstrapKotlinVersion}"
    generatorRuntime "org.jetbrains.kotlin:kotlin-reflect:${project.bootstrapKotlinVersion}"
    generatorRuntime "org.jetbrains.kotlin:kotlin-stdlib-gen:${project.bootstrapKotlinVersion}"
}

task run(type: JavaExec) {
    group 'application'
    main 'generators.GenerateStandardLibKt'
    classpath configurations.generatorRuntime
    args = ["native", "${project(":runtime").projectDir}/src/main/kotlin/generated"]
}

task generateUnicodeData(type: JavaExec) {
    group 'application'
    main 'generators.unicode.GenerateUnicodeDataKt'
    classpath configurations.generatorRuntime
    args = ["native", "${project(":runtime").projectDir}/src/main/kotlin/generated", "${project(":backend.native").projectDir}/tests/stdlib_external/text"]
}